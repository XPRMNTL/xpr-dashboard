<div class="panel" data-ng-class="getClassName()" data-exp-archived="{{exp.archived}}">
  <div class="panel-heading clearfix no-gap">
    <div class="row">
      <div class="col-md-7">
        <h4>
          {{ exp.name }}
          <div class="btn-group btn-group-sm">
            <button
              class="btn btn-primary"
              data-ng-class="exp.value === true ? 'active' : 'inactive'"
              data-ng-click="exp.value = true">On</button>
            <button
              class="btn btn-danger"
              data-ng-class="exp.value === false ? 'active' : 'inactive'"
              data-ng-click="exp.value = false">Off</button>
          </div>
          <!-- <toggle-switch model="exp.value"></toggle-switch> -->
          <button
            class="btn btn-sm btn-primary"
            data-ng-class="!! exp.references ? 'active' : 'inactive'"
            data-ng-click="toggleReferences()">
            <span class="glyphicon glyphicon-unchecked"></span>
            <span class="glyphicon glyphicon-ok"></span>
            References
          </button>
        </h4>
        <p data-ng-bind-html="exp.description"></p>
      </div>
      <div class="col-md-5">
        <span class="pull-right" data-ng-show="isDirty(exp)">
          <div class="pull-right">
            <form role="form" class="form-horizontal">
              <span class="text-danger" data-ng-bind="failText"></span>
              <span class="action" data-ng-click="cancel()">Cancel</span>
              <button class="btn btn-sm btn-primary" data-ng-click="save(exp)" title="Save">
                <span class="glyphicon glyphicon-floppy-disk"></span> Save
              </button>
            </form>
          </div>
        </span>
        <span class="pull-right actions" data-ng-show="! isDirty(exp)">
          <small data-ng-class="{ true: 'label label-warning' }[modified.isOld]" data-ng-bind="'Modified: ' + modified.fromNow()" title="{{ modified.format('MMMM Do YYYY, h:mm:ss a') }}"></small>
          <span  data-ng-show="!exp.archived" data-ng-click="setArchived(true,exp)" class="glyphicon glyphicon-folder-close" title="Archive this experiment. Apps will ignore it."></span>
          <span  data-ng-show="exp.archived" data-ng-click="setArchived(false,exp)" class="glyphicon glyphicon-folder-open" title="Un-archive this experiment. Apps will it use it again."></span>
          <span data-ng-show="exp.archived" data-ng-click="deleteMe()" class="glyphicon glyphicon-trash deleter" title="Delete this experiment for good"></span>
          <br />
          <small class="label label-danger" data-ng-bind="failText"></small>
        </span>

      </div>
    </div>
  </div>
  <div class="panel-body row" data-ng-show="!! exp.references">
    <div data-ng-repeat="refName in app.references" data-edit-experiment-ref></div>
  </div>
</div>
